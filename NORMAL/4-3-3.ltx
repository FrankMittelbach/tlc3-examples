%%
%% The LaTeX Companion, 3ed
%%
%% Example 4-3-3 on page I-336 in "lineno --- Numbering lines of text".
%%
%% Copyright (C) 2022 Frank Mittelbach
%%
%% It may be distributed and/or modified under the conditions
%% of the LaTeX Project Public License, either version 1.3c
%% of this license or (at your option) any later version.
%%
%% See https://www.latex-project.org/lppl.txt for details.
%%

\documentclass{tlc3exa}
\pagestyle{empty}
\setcounter{page}{6}
\setlength\textwidth{207.0pt}

  \addtolength\textwidth{-30pt}
  \addtolength\parindent{-6pt}      % fudge the example a bit for the box size

%StartShownPreambleCommands
\usepackage{amsmath,breqn,lineno}
\linenumbers

%StopShownPreambleCommands

\begin{document}
All is fine before a standard \LaTeX\
display:
\[    x \neq y   \]
and as of 2022 also before \texttt{amsmath}
displays:
\begin{align}   x \neq y   \end{align}
However, we do not get line numbers in front
of displays from other packages, for example,
those from the \texttt{breqn} package:
\begin{dmath}  0 < x =  x_0 + x_1 +
  x_2 + \dots + x_{n-1} + x_n  \end{dmath}
They only show up again after the display.
\end{document}
