%%
%% The LaTeX Companion, 3ed
%%
%% Example 2-2-16 on page I-47 in "The extended interface".
%%
%% Copyright (C) 2022 Frank Mittelbach
%%
%% It may be distributed and/or modified under the conditions
%% of the LaTeX Project Public License, either version 1.3c
%% of this license or (at your option) any later version.
%%
%% See https://www.latex-project.org/lppl.txt for details.
%%

\documentclass{tlc3exa}
\pagestyle{empty}
\setcounter{page}{6}
\setlength\textwidth{183.0pt}
\sloppy
%StartShownPreambleCommands
\usepackage[noindentafter,calcwidth]{titlesec}
\titleformat{\section}[display]
  {\filright\normalfont\bfseries\sffamily}
  {\titleline[r]{Section \Huge\thesection}}{1ex}
  {\titleline*[l]{\titlerule[1pt]}\vspace{1pt}%
   \titleline*[l]{\titlerule[2pt]}\vspace{2pt}}
  [{\titleline*[l]{\titlerule*{\tiny\LaTeX}}}]
\titlespacing{\section}{1pc}{*3}{*2}

%StopShownPreambleCommands

\begin{document}
\section{Rules and Leaders}
Note that the last \verb=\titleline*= is
surrounded by braces. Without them its
optional argument would prematurely end the
outer optional argument of \verb=\titleformat=.
\end{document}
