%%
%% The LaTeX Companion, 3ed
%%
%% Example 4-1-40 on page I-286 in "thmtools --- Advanced theorem declarations".
%%
%% Copyright (C) 2022 Frank Mittelbach
%%
%% It may be distributed and/or modified under the conditions
%% of the LaTeX Project Public License, either version 1.3c
%% of this license or (at your option) any later version.
%%
%% See https://www.latex-project.org/lppl.txt for details.
%%

\documentclass{tlc3exa}
\pagestyle{empty}
\setcounter{page}{6}
\setlength\textwidth{135.0pt}

  \usepackage{microtype}       % for better spacing

  \addtolength\textwidth{-10pt}

%StartShownPreambleCommands
  \usepackage{amsthm,thmtools,xcolor}
  \declaretheorem[style=remark,
                  shaded={padding=5pt,leftmargin=-10pt,
                          textwidth=.8\columnwidth}
                 ]{remark}
  \declaretheorem[sibling=remark,
                  shaded={rulecolor=blue,rulewidth=2pt,
                          bgcolor=white}
                 ]{action}
%StopShownPreambleCommands

\begin{document}
  \noindent Text to show the left margin.
  \begin{remark}
    We number remarks together with actions
    but we use a gray background for them.
  \end{remark}
  \begin{action}[Background]
    Background color needs resetting!
  \end{action}
\end{document}
