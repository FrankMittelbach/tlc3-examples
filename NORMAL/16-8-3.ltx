%%
%% The LaTeX Companion, 3ed
%%
%% Example 16-8-3 on page II-574 in "chapterbib --- Bibliographies per included file".
%%
%% Copyright (C) 2022 Frank Mittelbach
%%
%% It may be distributed and/or modified under the conditions
%% of the LaTeX Project Public License, either version 1.3c
%% of this license or (at your option) any later version.
%%
%% See https://www.latex-project.org/lppl.txt for details.
%%

\documentclass{tlc3exa}
\pagestyle{empty}
\setcounter{page}{6}
\setlength\textwidth{330.59894pt}

  \setcounter{page}{4} % thus page 6 will contain biblio

  % Small headings for the example
  \makeatletter
  \renewcommand\section{\@startsection{section}{1}{\z@}%
    {-1.25ex \@plus-1ex \@minus-.2ex}%
    {.8ex}%
    {\Large\bfseries}}
  \renewcommand\subsection{\@startsection{subsection}{2}{\z@}%
    {-1.25ex \@plus-1ex \@minus-.2ex}%
    {.5ex}%
    {\normalsize\bfseries}}
  \makeatother

% We force rewriting these files, because other examples use
% the same name (but with ``chapter'' as the highest level):

\begin{filecontents}[force]{article-1.tex}
 \stepcounter{section}
 \ldots\ see \cite{Knuth-CT-a} \ldots
 \bibliographystyle{alpha}
 \bibliography{tlc}
\end{filecontents}
\begin{filecontents}[force]{article-2.tex}
 \stepcounter{section}
 \ldots see \cite{Knuth-CT-a}
  and \cite{bschur} \ldots
 \bibliographystyle{plain}
 \bibliography{tlc}
\end{filecontents}

%% Do not process top-level aux file with BibTeX

%% show third page in book

  \usepackage[gather]{chapterbib}
  \sectionbib{\subsection*}{subsection}

  \newcommand\FinalBibTitles{References for Article \thesection}
  \renewcommand\StartFinalBibs{\section*{\refname}%
    \begingroup
      \setcounter{secnumdepth}{-1}\addcontentsline{toc}{section}{\refname}%
      \sectionmark{\refname}%
    \endgroup
    \renewcommand\bibname{\UseName{@auto@bibname}}}

%StartShownPreambleCommands

%StopShownPreambleCommands

\begin{document}
    \include{article-1}   \include{article-2}   \bibliography{}
\end{document}
